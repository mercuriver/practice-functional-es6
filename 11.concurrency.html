<script src="./fx.js"></script>

<!-- 
## 지연 평가 + Promise - L.map, map, take
-->

<script>
  // go(
  //   [1, 2, 3],
  //   L.map((a) => Promise.resolve(a + 10)),
  //   take(2),
  //   log
  // );
  // go(
  //   [Promise.resolve(1), Promise.resolve(2), Promise.resolve(3)],
  //   L.map((a) => a + 10),
  //   take(2),
  //   log
  // );
  // go(
  //   [Promise.resolve(1), Promise.resolve(2), Promise.resolve(3)],
  //   L.map((a) => Promise.resolve(a + 10)),
  //   take(2),
  //   log
  // );

  // go(
  //   [1, 2, 3],
  //   map((a) => Promise.resolve(a + 10)),
  //   log
  // );
  // go(
  //   [Promise.resolve(1), Promise.resolve(2), Promise.resolve(3)],
  //   map((a) => a + 10),
  //   log
  // );
  // go(
  //   [Promise.resolve(1), Promise.resolve(2), Promise.resolve(3)],
  //   map((a) => Promise.resolve(a + 10)),
  //   log
  // );
</script>

<!-- 
## Kleisli Composition - L.filter, filter, nop, take
-->

<script>
  go(
    [1, 2, 3, 4, 5, 6, 7, 8],
    L.map((a) => Promise.resolve(a * a)),
    L.filter((a) => a % 2),
    take(4),
    log
  );

  go(
    [1, 2, 3, 4, 5, 6, 7, 8],
    L.map((a) => a * a),
    L.filter((a) => Promise.resolve(a % 2)),
    take(4),
    log
  );

  go(
    [1, 2, 3, 4, 5, 6, 7, 8],
    L.map((a) => Promise.resolve(a * a)),
    L.filter((a) => Promise.resolve(a % 2)),
    take(4),
    log
  );
  go(
    [1, 2, 3, 4, 5, 6, 7, 8],
    L.map((a) => Promise.resolve(a * a)),
    filter((a) => Promise.resolve(a % 2)),
    log
  );
</script>

<!-- 
## reduce에서 nop지원
-->

<script></script>
